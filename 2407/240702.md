## TODAY I LEARNED

### [React 19] startTransition

- state update를 transition인 상태로 변환
- `startTransition(() => {})`
- 인자로 들어가는 scope에는 set 기능이 calling되어 state가 update 되는 기능을 포함 (그러므로 set function에 접근 가능해야 한다 => 일부 props나 custom Hook 반환값에 대한 응답으로 `Transition`을 시작하려면 `useDefferedValue`를 사용)
- scope function을 `Transition`으로 call 하여 인자없이 바로 실행 -> 동기 작업 스케줄 업데이트
- `Transition`이 진행중임을 사용하려면 `useTransition`을 사용
- `startTransition`에 전달되는 함수는 즉시 실행되어 모든 state를 `Transition`으로 표기하므로 동기식이어야 한다. 시간차로 더 많은 state 업데이트를 수행하려 하면 (ex. Timeout) `Transition`으로 표시되지 않는다.
- `Transition`으로 marking된 state의 업데이트는 다른 state 업데이트에 의해 중단될 수 있다. 만약 Transition 안에서 특정 컴포넌트를 업데이트하는 중 리렌더링되는 동안 입력을 시작하면 React는 input state 업데이트 이후 렌더링을 이어서 진행한다.
- `Transition` 업데이트는 텍스트 입력을 제어하는 데 사용될 수 없다.
- 현재의 React는 진행중인 `Transition`이 여러 개일 경우에 일괄처리하나 향후 릴리즈에서는 변경될 가능성이 높다.

```javascript
import { startTransition } from "react";

function TabContainer() {
  const [tab, setTab] = useState("about");

  function selectTab(nextTab) {
    startTransition(() => {
      setTab(nextTab);
    });
  }
  //...
}
```

- 왜 사용할까? 🤔 :
  1. 느린 디바이스에서도 UI 업데이트의 반응성을 유지할 수 있다.
  2. 리렌더링 중일때도 UI가 반응할 수 있다. 예를들면, 사용자가 탭을 클릭했다가 마음이 바뀌어 다른 탭을 누른다면 첫 번째 리렌더링이 끝나기를 기다릴 필요가 없다.

### [TIL-word]

- `miscellaneous` : 잡다한
- `oddity` : 이상한 것
- `idiomatic` : 관용적인
- `enforce` : 규범을 준수하다 / 규칙을 지키다
- `concentric` : 동심원
- `suppress` : 막다

---

### [React] React 18 업그레이드로 인한 뉴욕타임스 웹사이트 성능 향상

- https://news.hada.io/topic?id=15725&utm_source=slack&utm_medium=bot&utm_campaign=T070Z2DJNDT

---

### [SASS] SASS declaration sorting

- 일반적으로 CSS를 정렬하는 규칙은 alphabetical 정렬과 type별 정렬 두 가지 방법으로 나뉜다.
- type별 정렬시 참고할만한 convention들
  - https://github.com/necolas/idiomatic-css
  - https://github.com/brandon-rhodes/Concentric-CSS
- 설문에 의하면 45%가 type별 정렬, 39%는 딱히 정렬하지 않는다고 한다. (참고 : https://css-tricks.com/poll-results-how-do-you-order-your-css-properties/)
- 참고 링크 : https://sass-guidelin.es/#declaration-sorting

---

### [Debug] Sentury로 우아하게 프론트엔드 에러 추적하기

https://tech.kakaopay.com/post/frontend-sentry-monitoring/

---

### [React18] createRoot

- createRoot는 브라우저 DOM(Document Object Model) 노드 안에 리액트 컴포넌트들을 보여주도록 root를 만드는 기능이다.

```javascript
import { createRoot } from "react-dom/client";

const domNode = document.getElementById("root");
const root = createRoot(domNode);

//...
root.render(<App />); // 이 안의 React 컴포넌트를 보여지도록 함
```

- createRoot(domNode, options?)

  - domNode : DOM 요소. DOM 요소를 위한 root를 만들고 render(), unmount() 함수를 사용할 수 있게 한다.
  - options 1 - onRecoverableError : 에러로부터 자동으로 복구될 때 호출하는 함수
  - options 2 - identifierPrefix : 같은 페이지에 여러 개의 root가 존재할 때 충돌을 피하기 위해서 사용

- SSR에선 createRoot는 지원되지 않는다. 대신 hydrateRoot를 사용할 것 !
- 모달창이나 tooltip같은 (DOM tree의 다른 부분 - 컴포넌트의 자식이 아닌) JSX를 렌더링하고 싶다면 createPortal 사용하기

---

### [React18] hydrateRoot

```javascript
const root = hydrateRoot(domNode, reactNode, options?)
```

- react-dom/server에 의해 생성된 HTML 컨텐츠를 가지고 있는 브라우저 DOM node 내부에 리액트 컴포넌트들을 보여질 수 있도록 한다.
- = 서버 환경에서 이미 렌더링 된 HTML에 react를 attatch 하기 위해 hydrateRoot를 호출

```javascript
import { hydrateRoot } from "react-dom/client";

const domNode = document.getElementById("root");
const root = hydrateRoot(domNode, reactNode);
```

- React는 domNode 안에 존재하는 HTML에 attated되고, DOM 관리를 맡게된다.
- 보통 하나의 hydrateRoot를 가지게 됨.
- 파라미터들
  - domNode : 서버에서 root 요소로서 렌더링 된 DOM 요소
  - reactNode : 기존에 존재하는 HTML을 렌더링하기 위해 사용되는 '리액트 노드'
  - options
    - onRecoverableError : 리액트가 에러를 자동 해결하려할 때 호출하는 콜백함수
    - identifierPrefix : 서버에서 사용되는 접두사와 같아야하며, 다수의 같은 페이지의 root를 사용할 때 충돌을 피하기 위해 사용
- 반환
  - render()
    - DOM element에 hydrated된 리액트 root 내부의 react 구성요소들을 업데이트
    ```javascript
    root.render(<App />);
    ```
    - root가 hydration이 끝나기 전에 root.render를 호출한다면, 리액트는 이미 존재하고 있는 SSR HTML을 삭제하고 전체 요소들을 CSR으로 전환한다.
  - unmount()
    - root DOM 노드로부터 리액트를 분리.
    - root.unmount() 이후에 다시 root.render()를 재호출할 수 없음. "Cannot update an unmounted root" 에러를 띄울것임

---

### [Next.js] Next.js의 다양한 렌더링 방식

어떤 페이지를 빌드 시점에 정적으로 생성하고 실행 시점에 동적으로 제공할 것인지 지정 가능. PHP, 루비, 파이썬 등과 같이 SSR은 원래 웹 페이지를 제공하는 가장 흔한 방법이다.

- 사전 렌더링하는 두 가지 방식
  - Static Generation (SG) : 사전 렌더링 결과를 빌드 타임에 HTML로 생성. Incremental Static Regeneration(ISR) 방식을 활용할 경우에는 배포한 이후에도 HTML을 생성하거나 업데이트할 수 있다.
  - Server Side Rendering (SSR) : 페이지를 요청하면 HTML을 생성하고 hydration을 한다.
- 특정 컴포넌트의 SSR을 비활성화하기 : dynamically import의 { ssr: false } 옵션

```javascript
const NoSSR = dynamic(() => import("../no-ssr"), { ssr: false });

export default function App() {
  return <NoSSR />;
}
```

- 참고링크 : https://blog.hwahae.co.kr/all/tech/13604

---

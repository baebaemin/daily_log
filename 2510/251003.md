## Today I Learned

### [Next.js] Page Router보다 App Router가 폴더 구성에 용이한 이유

> 예시 1: 대시보드 섹션 - 공통 레이아웃이 필요한 경우

- 시나리오: 대시보드 영역(/dashboard)에 여러 페이지가 있고, 모두 같은 사이드바와 헤더를 공유

1. Page Router

```json
// Page Router에서의 폴더구성
pages/
  dashboard/
    index.tsx           // /dashboard
    profile.tsx         // /dashboard/profile
    settings.tsx        // /dashboard/settings
    analytics.tsx        // /dashboard/analytics
  _app.tsx              // Page Router에서 모든 페이지를 감싸는 최상위 컴포넌트
```

```tsx
// pages/dashboard/index.tsx
import DashboardLayout from "@/components/DashboardLayout";

export default function Dashboard() {
  return (
    {/* 매번 수동으로 감싸야 함 */}
    <DashboardLayout>
      <h1>대시보드 홈</h1>
    </DashboardLayout>
  );
}

// pages/dashboard/profile.tsx
import DashboardLayout from "@/components/DashboardLayout";

export default function Profile() {
  return (
    {/* 또 감싸야 함 ㅎㅎ.. */}
    <DashboardLayout>
      <h1>프로필</h1>
    </DashboardLayout>
  );
}

// pages/dashboard/settings.tsx - 또 반복...
// pages/dashboard/analytics.tsx - 반복 반복...
```

- Page Router에서는 모든 페이지에서 DashboardLayout을 import하고 감싸야 한다
  - 한 페이지에서 레이아웃을 빼먹으면 UI가 깨짐
  - 레이아웃을 변경하려면 모든 파일을 수정해야 함

2. App Router

```json
// App Router에서의 폴더구성
app/
  dashboard/
    layout.tsx          // 한 번만 정의
    page.tsx            // /dashboard
    profile/
      page.tsx          // /dashboard/profile
    settings/
      page.tsx          // /dashboard/settings
    analytics/
      page.tsx          // /dashboard/analytics
```

```tsx
// app/dashboard/layout.tsx - 한 번만 작성
export default function DashboardLayout({ children }) {
  return (
    <div>
      <Sidebar />
      <Header />
      {children} {/* 자동으로 하위 페이지들이 여기 들어감 */}
    </div>
  );
}

// app/dashboard/page.tsx - 레이아웃 코드 불필요
export default function Dashboard() {
  return <h1>대시보드 홈</h1>; // 바로 컨텐츠만!
}

// app/dashboard/profile/page.tsx - 역시 간단~~
export default function Profile() {
  return <h1>프로필</h1>; // 레이아웃 자동 적용
}
```

- 실무에서의 App Router 사용 예시

```
app/
  applicant-manage/
    layout.tsx                      // GNB 등 전역 레이아웃 (DefaultLayout 사용 중)
    📁 (active)/
      layout.tsx                    // LNB등 중첩 레이아웃 (ApplicantManageLayout 사용 중)
    📁 _components/
      📁 ApplicantManageLayout/     // LNB 등 중첩할 레이아웃 적용
          index.module.scss
          index.tsx                 // 서버 데이터 prefetching, Lnb 데이터 초기화 등
          type.d.ts
      📁 layout/
        📁 DefaultLayout/
          index.module.scss
          index.tsx                 // BusinessGnb, AppHeader, AppFooter 포함됨
          type.d.ts
```

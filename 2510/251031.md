## Today I Learned

### [React] 마운트Mount와 렌더링Render의 차이

- 마운트 Mount

  - 1번만 발생 : 컴포넌트가 DOM에 처음 삽입될 때
  - 컴포넌트의 `탄생` 시점

- 렌더링 Render

  - 여러 번 발생 : `컴포넌트 함수`가 실행될 때마다
  - 마운트 + 업데이트(리렌더링) 모두 포함

- 마운트와 렌더링의 관계

> #### 마운트 (전체 과정)

- 1단계: 렌더 단계 Render Phase

  - 컴포넌트 함수 실행
  - JSX -> React Element 반환
  - Virtual DOM 생성

- 2단계: 커밋 단계 Commit Phase

  - DOM 변경사항 계산 (Reconciliation)
  - 실제 DOM에 반영
  - useLayoutEffect 실행 (동기적)
  - 브라우저 화면 페인트

- 3단계: 이펙트 단계 Effect Phase
  - useEffect 실행 (비동기적)

> #### 예시 코드

```javascript
function Counter() {
  const [count, setCount] = useState(0);

  console.log("1. 렌더링"); // 매번 렌더링시 출력

  useLayoutEffect(() => {
    console.log("3. useLayoutEffect는 화면 그리기 전"); // 의존성 배열이 없으므로 매번 렌더링 완료 후 출력
  });

  useEffect(() => {
    console.log("4. 마운트됨"); // 의존성 배열이 []이므로 처음 1번(마운트 때)만 출력
  }, []);

  useEffect(() => {
    console.log("5. 렌더링 완료 후 실행"); // 의존성 배열이 없으므로 매번 렌더링 완료 후 출력
  });

  console.log("2. 렌더링 끝"); // 매번 렌더링시 출력

  return <button onClick={() => setCount(count + 1)}>{count}</button>;
}
```

## Today I Learned

### [TIL-WORDS]

- `deduped`: deduplicated의 축약형 ([링크](https://www.reddit.com/r/learnjavascript/comments/nydjag/what_does_deduped_mean/))

  - "패키지가 의존성 트리에는 여러 번 나오지만 중복 제거된 상태로dedped 있다"

- `consolidate`: 통합하다

- `postponed`: 연기됨

- `heuristic`: 휴리스틱 이론 / 발견법

  - 불충분한 시간이나 정보로 인하여 합리적인 판단을 할 수 없거나, 굳이 필요하지 않은 상황에서 사람들이 빠르게 사용할 수 있게 구성된 간편추론의 방법
  - e.g., 실무상 실현 가능한 해답 - 가장 이상적인 해답을 구하는 것이 아니라 현실적으로 만족할만한 수준의 해답 ([링크](https://en.wikipedia.org/wiki/Heuristic))

- `nonce`: "Number used once"의 약자
  - 암호학 및 컴퓨터 보안에서 한 번만 사용되는 임의의 값 또는 숫자

## <br/>

### [Next.js] Error를 throw하는 redirect()

```javascript
// 서버 컴포넌트에서 redirect를 사용할 때
export default async function PageA({ searchParams }) {
  const queryParam = searchParams.id;

  if (!queryParam) {
    redirect("/page-b"); // 서버에서 실행 중단 -> 클라이언트에 HTML 보내지 않음
  }

  const data = await fetch(`/api/users?id=${queryParam}`); // 실행 안 됨

  return ( ... ) // 실행 안 됨
}
```

```javascript
// 클라이언트 컴포넌트에서 router.push를 사용할 때
"use client";

import { useRouter } from 'next/navigation';

export default function PageA({ id }) {
  const router = useRouter();

 // useQuery는 렌더링 시점에 실행됨
  const { data } = useQuery({
    queryKey: ["user", id],
    queryFn: () => fetch(`/api/users?id=${id}`), // id가 undefined여도 실행됨
  });

// useEffect는 렌더링 후 실행
  useEffect(() => {
    if (!id) {
      router.push("/page-b"); // (너무 늦음)
    }
  }, [id]);

  return ( ... ) // 실행됨
}
```

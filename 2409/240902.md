## Today I Learned

### [TIL-words]

- `Hydrate`: SSR로 렌더링된 HTML을 React와 연결하는 과정

## <br />

### [Next.js] App Router

- 기존 방식처럼 파일 기반 라우팅이지만 이전의 `Page Router` 방식의 단점을 보완하여 패러다임을 변화시켰다.

  - <u>React 18에서 도입된 서버 컴포넌트의 구현</u> : 서버에서 컴포넌트를 렌더링하고 클라이언트로 전송하는 과정을 최적화한다.
  - <u>Hydration 개선</u> : CSR(Client-Side Rendering) 방식에서는 클라이언트가 초기 HTML을 받고 모든 JS를 다운로드하고 실행하여 이벤트 핸들러를 부착해야 했다. 그러나 서버 컴포넌트를 사용하면 서버에서 미리 완성된 string을 전송하여 rendering 함으로써 초기 로딩 시간을 크게 단축시킨다
  - <u>클라이언트 코드 개선</u> : 서버 컴포넌트에서 s2s로 데이터를 가져오기 때문에 클라이언트 컴포넌트의 data fetching과 관련된 복잡한 로직을 제거할 수 있어 일관성이 향상된다. 또한 중요한 데이터 가공이나 http 통신 등도 서버에서 처리하므로 보안성도 향상된다.
  - <u>SEO 최적화</u> : 서버에서 렌더링된 HTML을 클라이언트로 전송함으로써 검색 엔진 크롤러가 보다 쉽게 콘텐츠를 인덱싱할 수 있다.

## <br />

### [Next.js] App Router의 예약된 파일명

- app/ 하위 디렉토리에 정해진 [예약어](https://nextjs.org/docs/getting-started/project-structure#app-routing-conventions)

  - `Layout` : layout.js/jsx/tsx
  - `Page` : page.js/jsx/tsx
  - `Loading UI` : loading.js/jsx/tsx
  - `Not Found UI` : not-found.js/jsx/tsx
  - `Error UI` : error.js/jsx/tsx
  - `Global Error UI` : global-error.js/jsx/tsx
  - `API Endpoint` : route.js/ts
  - `Re-rendered Layout` : template.js/jsx/tsx
  - `Parallel route fallback page` : default.js/jsx/tsx

- `Page Router`에서는 모든 파일이 route될 수 있기 때문에 실제 경로와 component 요소 간의 구분이 어려워 pages 외부에 디렉토리로 구분하는 방식의 폴더 구조를 사용하고 있었다. 하지만 `App Router`에서는 app/ 디렉토리 하위에 어떤 구조를 가져가든 page.ts라는 예약된 파일만 route가 생성된다.
- 기존엔 최상위 애플리케이션 레벨에서만 공통 레이아웃이나 메타데이터 등을 설정할 수 있었지만, `layout.js/jsx/tsx`로 App Routing은 경로 별 중첩 라우팅을 통해 복잡한 레이아웃(e.g, 최상위 layout 헤더, GNB, LNB)을 구현할 수 있다.
- Page Router와는 달리 _컴포넌트 중심의 라우팅_

## <br />

### [React] React18과 Next.js13 이후의 RSC(React Server Component)

- 이전 버전의 Next.js에서는 주로 Server-Side Rendering(SSR)과 Static Site Generation(SSG)을 사용하여 페이지를 렌더링했다. 이후 React 18과 Next.js 13으로 넘어오면서 React Server Components(RSC)라는 새로운 렌더링 방식이 도입되었다.

#### | Server-Side Rendering(SSR)

- 서버에서 전체 페이지를 렌더링한 후, 클라이언트로 HTML을 전달. 초기 로딩 시점에 서버에서 페이지의 모든 데이터를 가져와 렌더링하기 때문에, 첫 번째 페이지 로드가 완전한 HTML로 제공된다. 하지만 클라이언트 측에서 해당 페이지를 다시 `Hydrate`해야 하므로, 이 과정이 느릴 수 있다.

#### | React Server Components(RSC)

- 서버에서 데이터 페칭, 서버 측 로직 등 클라이언트에서 실행되지 않는 컴포넌트를 렌더링하여 클라이언트로 전송. 페이지 로딩시 필요한 JavaScript의 양이 줄어들어 속도가 향상됨

#### | 차이점

- **`SSR`** : 서버에서 페이지 전체를 렌더링한 후 클라이언트로 전송. 이후 클라이언트에서 Hydration 과정을 거쳐 React 애플리케이션이 작동한다.
- **`RSC`** : 서버에서 컴포넌트 수준으로 렌더링을 수행. 클라이언트로 전달되는 JavaScript의 양을 줄이고, 클라이언트와 서버의 역할을 분리할 수 있다.

## <br />

### [CSS] `align-content: center;` 드디어 세로 중앙 정렬 속성이 추가되었다 ~!

```html
<div style="align-content: center;"><code>align-content</code> just works!</div>
```

- 링크 : https://build-your-own.org/blog/20240813_css_vertical_center/
